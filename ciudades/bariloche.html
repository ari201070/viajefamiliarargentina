<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="page-title">Bariloche | Viaje Familiar a Argentina</title>
    <!-- <link rel="stylesheet" href="../css/styles.css"> -->
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; color: #333; }
        header { background-color: #004080; color: white; padding: 1em 0; text-align: center; }
        header h1 { margin: 0; }
        nav { position: fixed; top: 10px; right: 10px; background-color: #fff; padding: 10px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 1000; /* Ensure nav is on top */}
        nav button, nav select, nav a { margin-left: 5px; padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; background-color: #f0f0f0; cursor: pointer; }
        nav button.active { background-color: #007bff; color: white; }
        nav a { text-decoration: none; color: #333; }
        .container { padding: 20px; max-width: 900px; margin: 80px auto 20px auto; /* Adjusted margin-top for fixed nav */ background-color: white; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h2 { color: #0056b3; border-bottom: 2px solid #0056b3; padding-bottom: 5px; }
        .cover-image { width: 100%; max-height: 400px; object-fit: cover; border-radius: 8px; margin-bottom: 20px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f0f0f0; }
        .ai-section { background-color: #e9f5ff; padding: 15px; border-radius: 8px; margin-top: 20px; }
        .ai-section h3 { color: #007bff; }
        .ai-section button { background-color: #007bff; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px; }
        .ai-section button:hover { background-color: #0056b3; }
        .ai-response { margin-top: 10px; padding: 10px; background-color: #fff; border: 1px solid #eee; border-radius: 4px; white-space: pre-wrap; }
        footer { text-align: center; padding: 20px; background-color: #333; color: white; margin-top: 30px; }
    </style>
</head>
<body>
    <header>
        <h1 id="city-title" data-i18n="city-title">Bariloche</h1>
    </header>

    <nav>
        <button id="btn-es" onclick="translatePage('es')">ES</button>
        <button id="btn-he" onclick="translatePage('he')">HE</button>
        <select id="moneda" onchange="cambiarMoneda()">
            <option value="ARS">ARS</option>
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="ILS">ILS</option>
        </select>
        <span id="precio-en-moneda-seleccionada"></span>
        <a href="../index.html" data-i18n="common.back-link">‚¨Ö Volver al itinerario</a>
    </nav>

    <div class="container">
        <img src="../docs/imagenes/bariloche/emilio-lujan-HhobdGoYzaA-unsplash.jpg" alt="Foto de portada de Bariloche" class="cover-image" data-i18n-alt="foto-caption">
        
        <section id="welcome">
            <p data-i18n="welcome-text">San Carlos de Bariloche, la capital de los Lagos...</p>
        </section>

        <section id="dates-duration">
            <h2 data-i18n="dates-duration-title">Fechas y duraci√≥n</h2>
            <p data-i18n="stay-duration">**Estad√≠a**: 05/10 al 09/10 (5 d√≠as)</p>
            <p data-i18n="how-to-arrive">**C√≥mo llegar**: Vuelo desde Rosario / Bus de larga distancia</p>
        </section>

        <section id="main-attractions">
            <h2 data-i18n="main-attractions-title">Lugares imperdibles</h2>
            <ul id="main-attractions-list">
                <li><a href="https://es.wikipedia.org/wiki/Centro_C%C3%ADvico_de_Bariloche" target="_blank" data-i18n="attraction-0">Centro C√≠vico</a></li>
                <li><a href="https://es.wikipedia.org/wiki/Lago_Nahuel_Huapi" target="_blank" data-i18n="attraction-1">Lago Nahuel Huapi</a></li>
                <li><a href="https://bariloche.org/es/circuito-chico" target="_blank" data-i18n="attraction-2">Circuito Chico</a></li>
                <li><a href="https://www.catedralaltapatagonia.com/" target="_blank" data-i18n="attraction-3">Cerro Catedral</a></li>
                <li><a href="https://cerrocampanario.com.ar/" target="_blank" data-i18n="attraction-4">Cerro Campanario</a></li>
                <li><a href="https://www.parquesnacionales.gob.ar/areas-protegidas/region-patagonia/nahuel-huapi/bosque-de-arrayanes/" target="_blank" data-i18n="attraction-5">Bosque de Arrayanes</a></li>
                <li><a href="https://www.bariloche.org/es/puerto-blest" target="_blank" data-i18n="attraction-6">Puerto Blest y Cascada de los C√°ntaros</a></li>
            </ul>
        </section>

        <section id="recommended-activities">
            <h2 data-i18n="recommended-activities-title">Actividades recomendadas</h2>
            <ul>
                <li data-i18n="rec-activity-0">Degustaci√≥n de chocolates...</li>
                <li data-i18n="rec-activity-1">Navegaci√≥n por el Lago Nahuel Huapi.</li>
                <li data-i18n="rec-activity-2">Trekking y senderismo...</li>
                <li data-i18n="rec-activity-3">Deportes de nieve en invierno...</li>
                <li data-i18n="rec-activity-4">Cabalgatas o canopy...</li>
                <li data-i18n="rec-activity-5">Visita a la Colonia Suiza...</li>
                <li data-i18n="rec-activity-6">Recorrer el Circuito Chico...</li>
            </ul>
        </section>

        <section id="gastronomy">
            <h2 data-i18n="gastronomy-title">Gastronom√≠a destacada</h2>
            <p data-i18n="gastronomy-intro">La gastronom√≠a de Bariloche es famosa...</p>
            
            <h3 data-i18n="restaurants-title">Restaurantes recomendados</h3>
            <table>
                <thead>
                    <tr>
                        <th data-i18n="table-restaurant">Restaurante</th>
                        <th data-i18n="common.table-type">Tipo</th>
                        <th data-i18n="common.table-gluten-free">Sin Gluten</th>
                        <th data-i18n="common.table-sugar-free">Sin Az√∫car</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="https://www.elbolichedealberto.com.ar/" target="_blank">El Boliche de Alberto</a></td>
                        <td data-i18n="restaurant-type-0">Parrilla / Carnes</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                        <td data-i18n="common.no-symbol">‚ùå</td>
                    </tr>
                    <tr>
                        <td><a href="https://www.tripadvisor.com.ar/Restaurant_Review-g312848-d10103700-Reviews-La_Fonda_del_Tio-San_Carlos_de_Bariloche_Province_of_Rio_Negro_Patagonia.html" target="_blank">La Fonda del T√≠o</a></td>
                        <td data-i18n="restaurant-type-1">Comida patag√≥nica casera</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                    </tr>
                    <tr>
                        <td><a href="https://www.butterfly.com.ar/" target="_blank">Butterfly</a></td>
                        <td data-i18n="restaurant-type-2">Alta cocina / Trucha</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                    </tr>
                     <tr>
                        <td><a href="https://www.rapanui.com.ar/" target="_blank">Rapa Nui</a></td>
                        <td data-i18n="restaurant-type-3">Chocolater√≠a / Cafeter√≠a</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                    </tr>
                </tbody>
            </table>

            <h3 data-i18n="cafes-title">Confiter√≠as y caf√©s</h3>
            <table>
                <thead>
                    <tr>
                        <th data-i18n="table-cafe">Confiter√≠a</th>
                        <th data-i18n="common.table-type">Tipo</th>
                        <th data-i18n="common.table-gluten-free">Sin Gluten</th>
                        <th data-i18n="common.table-sugar-free">Sin Az√∫car</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="https://www.mamuschka.com/" target="_blank">Mamuschka</a></td>
                        <td data-i18n="cafe-type-0">Chocolater√≠a / Pasteler√≠a</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                    </tr>
                    <tr>
                        <td><a href="https://www.abuelagoye.com/" target="_blank">Abuela Goye</a></td>
                        <td data-i18n="cafe-type-1">Chocolater√≠a / Cafeter√≠a</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                    </tr>
                    <tr>
                        <td><a href="https://www.tripadvisor.com.ar/Restaurant_Review-g312848-d10103700-Reviews-El_Almacen_de_Flores-San_Carlos_de_Bariloche_Province_of_Rio_Negro_Patagonia.html" target="_blank">El Almac√©n de Flores</a></td>
                        <td data-i18n="cafe-type-2">Caf√© de especialidad</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                        <td data-i18n="common.yes-symbol">‚úîÔ∏è</td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <section id="ai-menu-generator" class="ai-section">
            <h3 data-i18n="ai-menu-title">Generador de Men√∫ Saludable ‚ú®</h3>
            <p data-i18n="ai-menu-description">Obt√©n sugerencias de men√∫...</p>
            <button onclick="callGeminiAPI('ai-menu-prompt', 'ai-menu-response')" data-i18n="generate-menu-button">Generar Men√∫</button>
            <div id="ai-menu-response" class="ai-response"></div>
        </section>

        <section id="ai-accommodation-suggester" class="ai-section">
            <h3 data-i18n="ai-accommodation-title">Sugerencias de Alojamiento con IA üè®</h3>
            <p data-i18n="ai-accommodation-description">Obt√©n recomendaciones de alojamiento...</p>
            <button onclick="callGeminiAPI('ai-accommodation-prompt', 'ai-accommodation-response')" data-i18n="generate-accommodation-button">Generar Sugerencias</button>
            <div id="ai-accommodation-response" class="ai-response"></div>
        </section>
        
        <section id="ai-family-tips" class="ai-section">
            <h3 data-i18n="ai-family-tips-title">Consejos Adicionales para Familias con IA üë®‚Äçüë©‚Äçüëß‚Äçüë¶</h3>
            <p data-i18n="ai-family-tips-description">Recibe consejos personalizados...</p>
            <button onclick="callGeminiAPI('ai-family-tips-prompt', 'ai-family-tips-response')" data-i18n="generate-family-tips-button">Generar Consejos</button>
            <div id="ai-family-tips-response" class="ai-response"></div>
        </section>

        <section id="ai-budget-analysis" class="ai-section">
            <h3 data-i18n="ai-budget-title">An√°lisis de Presupuesto con IA üí∞</h3>
            <p data-i18n="ai-budget-description">Obt√©n un an√°lisis y desglose...</p>
            <button onclick="callGeminiAPI('ai-budget-prompt', 'ai-budget-analysis-response')" data-i18n="generate-budget-button">Analizar Presupuesto</button>
            <div id="ai-budget-analysis-response" class="ai-response"></div>
        </section>

        <section id="accommodation">
            <h2 data-i18n="accommodation-title">Alojamiento (ejemplos)</h2>
            <ul>
                <li data-i18n="accommodation-0">Hotel Llao Llao (lujo)</li>
                <li data-i18n="accommodation-1">Hotel Panamericano Bariloche</li>
                <li data-i18n="accommodation-2">Caba√±as y complejos tur√≠sticos...</li>
                <li data-i18n="accommodation-3">Airbnb en el centro...</li>
            </ul>
        </section>

        <section id="coordinates">
            <h2 data-i18n="coordinates-title">Coordenadas aproximadas</h2>
            <p data-i18n="coordinates-text">41¬∞ 08' S 71¬∞ 18' O</p>
        </section>

        <section id="events-agenda">
            <h2 data-i18n="events-agenda-title">Agenda de eventos</h2>
            <p data-i18n="event-0">**(Consultar agenda local)**: Eventos de invierno...</p>
            <p data-i18n="event-1">**(Consultar agenda local)**: Festivales de m√∫sica...</p>
            <p><a href="../docs/agenda/ariflier1970@gmail.com.ical.zip" data-i18n="download-agenda">Descargar agenda completa...</a></p>
        </section>

        <section id="family-tips">
            <h2 data-i18n="family-tips-title">Consejos para familias</h2>
            <ul>
                <li data-i18n="family-tip-0">V√≠stanse en capas...</li>
                <li data-i18n="family-tip-1">Reserven excursiones...</li>
                <li data-i18n="family-tip-2">Hay muchas actividades para ni√±os...</li>
                <li data-i18n="family-tip-3">La zona es muy segura...</li>
                <li data-i18n="family-tip-4">Prueben los chocolates locales...</li>
            </ul>
        </section>

        <section id="budget">
            <h2 data-i18n="budget-title">Presupuesto orientativo</h2>
            <table>
                <thead>
                    <tr>
                        <th data-i18n="budget-concept">Concepto</th>
                        <th data-i18n="budget-price">Precio estimado (USD)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td data-i18n="budget-concept-0">Alojamiento (noche, familia)</td><td data-i18n="budget-price-0">70‚Äì180</td></tr>
                    <tr><td data-i18n="budget-concept-1">Comida (por d√≠a, familia)</td><td data-i18n="budget-price-1">40‚Äì90</td></tr>
                    <tr><td data-i18n="budget-concept-2">Transporte local (por d√≠a)</td><td data-i18n="budget-price-2">5‚Äì15</td></tr>
                    <tr><td data-i18n="budget-concept-3">Actividades y tours (por d√≠a)</td><td data-i18n="budget-price-3">30‚Äì80</td></tr>
                    <tr><td data-i18n="budget-concept-4">Entradas museos/atracciones</td><td data-i18n="budget-price-4">0‚Äì20</td></tr>
                </tbody>
            </table>
        </section>

        <section id="cultural-tips">
            <h2 data-i18n="cultural-tips-title">Tips culturales</h2>
            <ul>
                <li data-i18n="cultural-tip-0">Bariloche tiene una fuerte influencia...</li>
                <li data-i18n="cultural-tip-1">Es un destino popular para viajes de egresados...</li>
                <li data-i18n="cultural-tip-2">La cultura de monta√±a es muy arraigada...</li>
            </ul>
        </section>

        <section id="map">
            <h2 data-i18n="map-title">Mapa de Bariloche</h2>
            <iframe src="https://www.openstreetmap.org/export/embed.html?bbox=-71.5333%2C-41.2005%2C-71.0729%2C-41.0656&layer=mapnik" 
                    style="border: 1px solid black; width:100%; height: 400px;"
                    allowfullscreen></iframe>
            <br/>
            <small><a href="https://www.openstreetmap.org/#map=12/-41.133/-71.328" target="_blank" data-i18n="see-bigger-map">Ver mapa m√°s grande</a></small>
        </section>
    </div>

    <footer>
        <p>¬© 2024 Aventura Familiar Argentina. Todos los derechos reservados.</p>
    </footer>

    <script>
        let idiomaActual = localStorage.getItem('idiomaPreferido') || 'es';
        let monedaActual = localStorage.getItem('monedaPreferida') || 'ARS'; // Added to store current currency
        let currentTranslations = {};
        const currentPageKey = 'bariloche'; 

        // Updated tasasDeCambio and simbolosMoneda
        const tasasDeCambio = { // Base: 1 unit of the key currency
            ARS: { USD: 0.0011, EUR: 0.0010, ILS: 0.0041, ARS: 1 }, 
            USD: { ARS: 900, EUR: 0.92, ILS: 3.70, USD: 1 },       
            EUR: { ARS: 980, USD: 1.08, ILS: 4.00, EUR: 1 },       
            ILS: { ARS: 245, USD: 0.27, EUR: 0.25, ILS: 1 }        
        };
        const simbolosMoneda = { ARS: '$', USD: 'US$', EUR: '‚Ç¨', ILS: '‚Ç™' };

        async function translatePage(language) {
          idiomaActual = language;
          document.documentElement.lang = language; 
          document.body.dir = (language === 'he') ? 'rtl' : 'ltr';

          try {
            const response = await fetch(`../locales/${language}.json`);
            if (!response.ok) {
              console.error(`Error loading translation file for ${language}: ${response.statusText}`);
              currentTranslations = {}; 
            } else {
              currentTranslations = await response.json();
            }
          } catch (error) {
            console.error(`Error fetching translation file for ${language}:`, error);
            currentTranslations = {};
          }

          if (currentTranslations[currentPageKey] && currentTranslations[currentPageKey]["page-title"]) {
            document.title = currentTranslations[currentPageKey]["page-title"];
          } else if (currentTranslations.common && currentTranslations.common["page-title"]) { 
             document.title = currentTranslations.common["page-title"];
          }


          document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            let textValue;
            
            let keyParts = key.split('.');
            if (keyParts.length === 2 && currentTranslations[keyParts[0]] && typeof currentTranslations[keyParts[0]][keyParts[1]] !== 'undefined') {
                textValue = currentTranslations[keyParts[0]][keyParts[1]];
            } else if (currentTranslations[currentPageKey] && typeof currentTranslations[currentPageKey][key] !== 'undefined') {
              textValue = currentTranslations[currentPageKey][key];
            } else if (currentTranslations.common && typeof currentTranslations.common[key] !== 'undefined') {
              textValue = currentTranslations.common[key];
            } else {
              textValue = key; 
            }

            if (el.hasAttribute('data-i18n-alt')) {
                const altKey = el.getAttribute('data-i18n-alt');
                 if (currentTranslations[currentPageKey] && typeof currentTranslations[currentPageKey][altKey] !== 'undefined') {
                    el.alt = currentTranslations[currentPageKey][altKey];
                } else if (currentTranslations.common && typeof currentTranslations.common[altKey] !== 'undefined') {
                    el.alt = currentTranslations.common[altKey];
                } else {
                    el.alt = altKey;
                }
            }
            
            const elementsToUseInnerHTML = ['event-', 'stay-duration', 'how-to-arrive', 'welcome-text', 'gastronomy-intro', 'ai-menu-description', 'ai-accommodation-description', 'ai-family-tips-description', 'ai-budget-description'];
            if (elementsToUseInnerHTML.some(substring => key.includes(substring))) {
              el.innerHTML = textValue; 
            } else {
              el.textContent = textValue;
            }
          });

          document.getElementById('btn-es').classList.toggle('active', language === 'es');
          document.getElementById('btn-he').classList.toggle('active', language === 'he');
          localStorage.setItem('idiomaPreferido', language);
        }

        function cambiarMoneda() { 
          monedaActual = document.getElementById('moneda').value; 
          localStorage.setItem('monedaPreferida', monedaActual);
          
          const precioSpan = document.getElementById('precio-en-moneda-seleccionada');
          if (precioSpan) {
              // This is an example placeholder. Actual price updates would need more logic.
              // For instance, if you have a base price in USD stored somewhere:
              // let basePriceUSD = 10; // Example base price
              // let convertedPrice = basePriceUSD * (tasasDeCambio['USD'][monedaActual] || 1);
              // precioSpan.textContent = `${simbolosMoneda[monedaActual]}${convertedPrice.toFixed(2)}`;
              precioSpan.textContent = `${simbolosMoneda[monedaActual]}`; // Just show symbol for now
          }
        }
        
        async function callGeminiAPI(promptKey, responseDivId) {
            const responseDiv = document.getElementById(responseDivId);
            const currentLanguage = localStorage.getItem('idiomaPreferido') || 'es';
            let loadingMsg = "Generando...";
            if(currentTranslations.common && currentTranslations.common["ai-loading"]) {
                loadingMsg = currentTranslations.common["ai-loading"];
            }
            responseDiv.textContent = loadingMsg;

            let promptText = "";
            if (currentTranslations[currentPageKey] && typeof currentTranslations[currentPageKey][promptKey] !== 'undefined') {
                promptText = currentTranslations[currentPageKey][promptKey];
            } else if (currentTranslations.common && typeof currentTranslations.common[promptKey] !== 'undefined') {
                promptText = currentTranslations.common[promptKey];
            }

            if (!promptText) {
                const errorMsgKey = "ai-error";
                let translatedError = "Error: Prompt not found."; 
                if(currentTranslations.common && currentTranslations.common[errorMsgKey]) {
                    translatedError = currentTranslations.common[errorMsgKey];
                }
                if(currentTranslations[currentPageKey] && currentTranslations[currentPageKey][errorMsgKey]) { 
                    translatedError = currentTranslations[currentPageKey][errorMsgKey];
                }
                responseDiv.textContent = translatedError + ` (Prompt ${promptKey} missing for ${currentLanguage})`;
                return;
            }

            console.log(`Simulating Gemini API call with prompt: ${promptText}`);
            setTimeout(() => {
                let simulatedResponse = `Respuesta simulada para "${promptKey}" en ${currentLanguage}. \n\nEste es un ejemplo de c√≥mo la IA podr√≠a responder. En una implementaci√≥n real, aqu√≠ estar√≠a la informaci√≥n generada din√°micamente.`;
                // ... (rest of the simulated responses from previous step) ...
                if (promptKey === 'ai-menu-prompt') {
                     simulatedResponse = `**Desayuno:**\n- Opci√≥n 1: Yogur natural sin az√∫car con frutos rojos frescos (bajos en carbohidratos) y un pu√±ado de nueces.\n- Opci√≥n 2: Huevos revueltos con espinacas y queso feta, acompa√±ados de una porci√≥n peque√±a de palta.\n\n**Almuerzo:**\n- Opci√≥n 1: Ensalada de trucha ahumada (t√≠pica de la regi√≥n) con hojas verdes, tomate cherry, pepino y aderezo de aceite de oliva y lim√≥n.\n- Opci√≥n 2: Cazuela de cordero patag√≥nico (sin papa o con m√≠nima cantidad, reemplazando con otras verduras bajas en carbohidratos como zapallitos, berenjena).\n\n**Cena:**\n- Opci√≥n 1: Bife de chorizo a la parrilla con ensalada mixta grande.\n- Opci√≥n 2: Salm√≥n rosado al horno con hierbas y br√≥coli al vapor.`;
                } else if (promptKey === 'ai-accommodation-prompt'){
                    simulatedResponse = `- **Hotel Llao Llao (Lujo):** Ofrece vistas espectaculares y actividades para ni√±os, aunque es una opci√≥n m√°s costosa.\n- **Caba√±as en la zona del Circuito Chico:** Muchas opciones con cocina propia, ideales para familias que buscan m√°s independencia.\n- **Hotel Panamericano Bariloche:** Bien ubicado, con piscina y servicios familiares.\n- **Apartamentos v√≠a Airbnb en el centro:** Permiten flexibilidad y pueden ser m√°s econ√≥micos para estad√≠as largas.`;
                } else if (promptKey === 'ai-family-tips-prompt'){
                     simulatedResponse = `- **Ropa en Capas:** El clima en Bariloche puede cambiar r√°pidamente. Vestir a los ni√±os (y adultos) en capas permite adaptarse f√°cilmente.\n- **Protecci√≥n Solar Siempre:** Incluso en d√≠as nublados, la radiaci√≥n UV es alta en la monta√±a. No olviden protector solar, sombreros y gafas de sol.\n- **Calzado C√≥modo:** Explorar√°n mucho a pie. Aseg√∫rense de que todos tengan zapatos c√≥modos y adecuados para senderismo ligero.\n- **Chocolates con Moderaci√≥n:** Bariloche es famoso por su chocolate. Disfruten, pero con control, especialmente si hay restricciones diet√©ticas.\n- **Reservar con Anticipaci√≥n:** Para excursiones populares como la navegaci√≥n al Bosque de Arrayanes o el Cerro Catedral en temporada alta, es mejor reservar con antelaci√≥n.`;
                } else if (promptKey === 'ai-budget-prompt'){
                    simulatedResponse = `An√°lisis del presupuesto diario para una familia en Bariloche (USD):\n\n*   **Alojamiento:** 70-180\n*   **Comida:** 40-90\n*   **Transporte Local:** 5-15\n*   **Actividades/Tours:** 30-80\n*   **Entradas:** 0-20\n\n**Total Diario Estimado:** Entre 145 USD y 385 USD.\n\n**Optimizaci√≥n:**\n1.  **Alojamiento:** Considerar caba√±as con cocina o Airbnb para preparar algunas comidas y reducir gastos en restaurantes.\n2.  **Comida:** Aprovechar los supermercados para desayunos y algunos almuerzos (picnics). Buscar men√∫s ejecutivos o platos del d√≠a.\n3.  **Actividades:** Priorizar actividades gratuitas o de bajo costo como senderismo en el Parque Llao Llao o recorrer el Centro C√≠vico. Algunas excursiones se pueden hacer por cuenta propia si se tiene auto.`;
                }
                responseDiv.innerHTML = simulatedResponse.replace(/\n/g, '<br>');
            }, 2000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const idiomaGuardado = localStorage.getItem('idiomaPreferido') || 'es';
            translatePage(idiomaGuardado); // Load translations first

            const monedaGuardada = localStorage.getItem('monedaPreferida') || 'ARS';
            document.getElementById('moneda').value = monedaGuardada;
            cambiarMoneda(); // Update currency display based on loaded or default currency

            document.getElementById('btn-es').addEventListener('click', () => translatePage('es'));
            document.getElementById('btn-he').addEventListener('click', () => translatePage('he'));
        });
    </script>
</body>
</html>
